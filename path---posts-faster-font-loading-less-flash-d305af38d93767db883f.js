webpackJsonp([0xcc629516bd1],{400:function(a,n){a.exports={data:{markdownRemark:{html:'<p>We\'ve all been there. That moment when you are on a slow connection and ever so slowly a page\'s content loads. One. thing. at. a. time. Then you can see everything but the text for a brief moment before <em>BAM!</em> The font loads and everything goes blank while it is getting rerendered. As a user, it is jarring, and as developers, it\'s a pain to deal with. What if there was a simple solution? Good news! There is. It\'s not a cure all, but it can at least help alleviate the pain of the dreaded flash of unstyled content (FOUC). It comes in the form of <a href="https://w3c.github.io/preload/"><code class="language-text">rel=&quot;preload&quot;</code></a>. Let\'s take a look at how easy it is to use.</p>\n<div class="gatsby-highlight">\n      <pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">></span></span>\n<span class="token comment">&lt;!-- Other head stuff --></span>\n\n<span class="token comment">&lt;!-- Tell the browser we want to preload the font --></span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>preload<span class="token punctuation">"</span></span> <span class="token attr-name">as</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>font<span class="token punctuation">"</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>/assets/fonts/demofont.woff2<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>\n\n<span class="token comment">&lt;!-- Actually use the font --></span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">></span></span><span class="token style language-css">\n  <span class="token atrule"><span class="token rule">@font-face</span></span> <span class="token punctuation">{</span>\n    <span class="token property">font-family</span><span class="token punctuation">:</span> <span class="token string">\'Demo Font\'</span><span class="token punctuation">;</span>\n    <span class="token property">src</span><span class="token punctuation">:</span> <span class="token function">local</span><span class="token punctuation">(</span><span class="token string">\'Demo Font\'</span><span class="token punctuation">)</span>,\n      <span class="token url">url(\'/assets/fonts/demofont.woff2\')</span> <span class="token function">format</span><span class="token punctuation">(</span><span class="token string">\'woff2\'</span><span class="token punctuation">)</span>, <span class="token comment">/* all browsers that support preload also support woff2 */</span>\n      <span class="token comment">/* Include other fallbacks as usual */</span>\n    <span class="token punctuation">}</span>\n</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">></span></span>\n\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">></span></span></code></pre>\n      </div>\n<p>Thats it. The preload link causes the browser to fire off a high-priority request to whatever asset you tell it to load. Since the request is higher priority, it will complete sooner and, as a result, the font is more likely to arrive before all the rendering happens. Do note that this isn\'t a cure-all though. You don\'t want to preload assets that you won\'t use for certain, as you\'ll be firing off network requests that may never be used. Also, preloading too many assets will essentially undo the affect of the preloading, since the preloaded assets will all have their priority increased similarly.</p>\n<p>Fonts aren\'t the only thing that can be preloaded. The <a href="https://w3c.github.io/preload/">spec</a> allows just about any asset to be preloaded. This enables us to preload stylesheets, javascript, images, videos, etc. This also allows us to preload Google Fonts rather trivially:</p>\n<p><a id="google-fonts-example"></a></p>\n<div class="gatsby-highlight">\n      <pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">></span></span>\n  <span class="token comment">&lt;!-- Preload the font --></span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>preload<span class="token punctuation">"</span></span> <span class="token attr-name">as</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>style<span class="token punctuation">"</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>https://fonts.googleapis.com/css?family=Roboto<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>\n  <span class="token comment">&lt;!-- Include the font\'s stylesheet --></span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>https://fonts.googleapis.com/css?family=Roboto<span class="token punctuation">"</span></span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>stylesheet<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">></span></span></code></pre>\n      </div>\n<p>For a more thorough interview, take a look at the <a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Preloading_content">MDN</a> docs, or, if you are more interested in how this applies to fonts in particular, take a look at Google\'s <em>excellent</em> document on <a href="https://developers.google.com/web/fundamentals/performance/optimizing-content-efficiency/webfont-optimization">web font optimization</a>.</p>\n<p><strong>TLDR:</strong> For Google fonts, put <code class="language-text">&lt;link rel=&quot;preload&quot; as=&quot;style&quot; href=&quot;[google font url here]&quot;&gt;</code> in the header. For more details, see <a href="#google-fonts-example">above</a>.</p>',frontmatter:{date:"November 02, 2018",path:"/posts/faster-font-loading-less-flash",title:"Preloading fonts to alleviate FOUC",tags:["quick tip","performance"]}}},pathContext:{}}}});
//# sourceMappingURL=path---posts-faster-font-loading-less-flash-d305af38d93767db883f.js.map